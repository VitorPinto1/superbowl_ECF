{% extends 'base.html' %}

{% block title %}Miser sur la sélection{% endblock %}
{% block content %}


<div class="container d-flex align-items-center justify-content-center" style="margin-top: 50px;">
  <div class="col-md-6">
    <h1 class="text-center">Miser sur la sélection</h1>
    <form method="POST" action="/ruta-para-procesar-las-apuestas">
      {% for match in matchs_selectionnes %}
      <h3>{{ match.equipe1 }} vs {{ match.equipe2 }}</h3>
      <div class="form-group">
        <div class="row">
          <label for="mise_equipe1" class="col-sm-4 control-label">{{ match.equipe1 }}:</label>
          <span class="cote-label col-sm-4 control-label">{{ match.cote1 }}</span>
          <div class="col-sm-4">
            <input type="text" class="form-control" id="mise_equipe1" name="mise_equipe1"  oninput="this.value = this.value.replace(/[^0-9]/g, ''); calculerMultiplication(this.value, '{{ match.cote1 }}', 'resultat1_{{ loop.index }}')" required>
            <span id="resultat1_{{ loop.index }}"></span>
          </div>
        </div>
      </div>
      <div class="form-group">
        <div class="row">
          <label for="mise_equipe2" class="col-sm-4 control-label">{{ match.equipe2 }}:</label>
          <span class="cote-label col-sm-4 control-label">{{ match.cote2 }}</span>
          <div class="col-sm-4">
            <input type="text" class="form-control" id="mise_equipe2" name="mise_equipe2"  oninput="this.value = this.value.replace(/[^0-9]/g, ''); calculerMultiplication(this.value, '{{ match.cote2 }}', 'resultat2_{{ loop.index }}')" required>
            <span id="resultat2_{{ loop.index }}"></span>
          </div>
        </div>
      </div>
      {% endfor %}
      <div class="form-group">
        <div class="row">
          <div class="col-sm-12 text-center">
            <button type="submit" class="btn btn-primary">Valider ma sélection</button>
          </div>
        </div>
      </div>
      
    </form>
  </div>
</div>

<script>
  function calculerMultiplication(mise, cote, resultatId) {
    var resultat = document.getElementById(resultatId);
    var valeurMise = parseFloat(mise);
    var valeurCote = parseFloat(cote);

    if (!isNaN(valeurMise) && !isNaN(valeurCote)) {
        var multiplication = valeurMise * valeurCote;
        resultat.textContent = 'Résultat : ' + multiplication;
    } else {
        resultat.textContent = '';
    }
}
</script>



{% endblock %}

